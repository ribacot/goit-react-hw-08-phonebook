"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[637],{637:function(n,t,e){e.r(t),e.d(t,{default:function(){return L}});var a=e(2791),c=e(9434),s=e(7689),r=e(3853),o=e(9983),i="ContactsList_listContacts__F81pO",l="ContactsList_contact__yS-qh",u="ContactsList_contact_tel__1VTI+",d="ContactsList_btn_del__Jod-J",h=e(1080),f=e(6351),m=function(){var n=(0,c.v9)(f.AD).filter,t=(0,c.v9)(f.Af),e=t.contacts,a=t.isLoading,s=t.error,r=null===e||void 0===e?void 0:e.filter((function(t){return t.name.toLowerCase().includes(n)}));return{contacts:e,isLoading:a,error:s,filteredContacts:r}},_=e(184),v=function(){var n=(0,c.I0)(),t=(0,c.v9)(f.Hz).token,e=m().filteredContacts,v=(0,s.s0)();return(0,a.useEffect)((function(){!t&&v("/")}),[t,v]),(0,_.jsx)(_.Fragment,{children:null!==e&&void 0!==e&&e.length?(0,_.jsx)("ul",{className:i,children:null===e||void 0===e?void 0:e.map((function(t){var e=t.name,a=t.id,c=t.number;return(0,_.jsxs)("li",{className:l,children:[e,":",(0,_.jsxs)("span",{className:u,children:[c,(0,_.jsx)("button",{className:d,type:"button",onClick:function(){return n((0,h.OF)(a))},children:(0,_.jsx)(o.Pd.Provider,{value:{size:"1.2em"},children:(0,_.jsx)(r.qu3,{})})})]})]},a)}))}):(0,_.jsx)("p",{className:"not_found",children:"Not found contacts"})})},x=e(1090),j="Search_decor_search__P41Qc",p="Search_lable__BBQ+F",C="Search_input__5wg+0",b=e(6388);function g(){var n=(0,c.v9)(f.AD).filter,t=(0,c.I0)();return(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("label",{className:p,htmlFor:"search",children:"Find contacts by name"}),(0,_.jsx)("input",{className:C,type:"text",id:"search",name:"name",onChange:function(n){var e=n.target.value;t((0,b.Q)(e))},value:n})]})}var k=e(8155),N=e(1138);function L(){var n=(0,c.I0)(),t=m(),e=t.contacts,r=t.isLoading,o=t.error,i=(0,c.v9)((function(n){return n.auth})).token,l=(0,s.s0)();(0,a.useEffect)((function(){!i&&l("/login")}),[i,l]),(0,a.useEffect)((function(){i&&(k.e.defaults.headers.common.Authorization="Bearer ".concat(i)),i&&n((0,h.m$)())}),[n,i]);return(0,_.jsxs)(x.Z,{title:"Contacts",children:[o&&(0,_.jsx)("p",{children:"Error!!!!!!"}),(0,_.jsx)("button",{className:N.Z.btn_add,style:{marginBottom:"15px"},onClick:function(){return l("/add_contact")},children:"Add Contact"}),null!==e&&void 0!==e&&e.length?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(g,{}),(0,_.jsx)(v,{})]}):(0,_.jsx)("p",{className:"not_found",children:"Phone book is empty"}),r&&(0,_.jsx)("div",{className:"fallback",children:(0,_.jsx)("p",{children:"Loading..."})})]})}}}]);
//# sourceMappingURL=637.2a42410a.chunk.js.map