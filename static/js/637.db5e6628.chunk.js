"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[637],{637:function(t,n,e){e.r(n),e.d(n,{default:function(){return L}});var a=e(2791),c=e(9434),s=e(7689),r=e(3853),o=e(9983),i="ContactsList_listContacts__F81pO",l="ContactsList_contact__yS-qh",u="ContactsList_contact_tel__1VTI+",d="ContactsList_btn_del__Jod-J",h=e(1138),f=e(1080),_=e(6351),m=function(){var t=(0,c.v9)(_.AD).filter,n=(0,c.v9)(_.Af),e=n.contacts,a=n.isLoading,s=n.error,r=null===e||void 0===e?void 0:e.filter((function(n){return n.name.toLowerCase().includes(t)}));return{contacts:e,isLoading:a,error:s,filteredContacts:r}},v=e(184),x=function(){var t=(0,c.I0)(),n=(0,c.v9)(_.Hz).token,e=m().filteredContacts,x=(0,s.s0)();(0,a.useEffect)((function(){!n&&x("/")}),[n,x]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{className:h.Z.btn_add,style:{marginBottom:"15px"},onClick:function(){return x("/add_contact")},children:"Add Contact"}),null!==e&&void 0!==e&&e.length?(0,v.jsx)("ul",{className:i,children:null===e||void 0===e?void 0:e.map((function(n){var e=n.name,a=n.id,c=n.number;return(0,v.jsxs)("li",{className:l,children:[e,":",(0,v.jsxs)("span",{className:u,children:[c,(0,v.jsx)("button",{className:d,type:"button",onClick:function(){return t((0,f.OF)(a))},children:(0,v.jsx)(o.Pd.Provider,{value:{size:"1.2em"},children:(0,v.jsx)(r.qu3,{})})})]})]},a)}))}):(0,v.jsx)("p",{className:"not_found",children:"Not found contacts"})]})},j=e(1090),p="Search_decor_search__P41Qc",C="Search_lable__BBQ+F",g="Search_input__5wg+0",b=e(6388);function k(){var t=(0,c.v9)(_.AD).filter,n=(0,c.I0)();return(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("label",{className:C,htmlFor:"search",children:"Find contacts by name"}),(0,v.jsx)("input",{className:g,type:"text",id:"search",name:"name",onChange:function(t){var e=t.target.value;n((0,b.Q)(e))},value:t})]})}var N=e(8155);function L(){var t=(0,c.I0)(),n=m(),e=n.contacts,r=n.isLoading,o=n.error,i=(0,c.v9)((function(t){return t.auth})).token,l=(0,s.s0)();return(0,a.useEffect)((function(){!i&&l("/login")}),[i,l]),(0,a.useEffect)((function(){i&&(N.e.defaults.headers.common.Authorization="Bearer ".concat(i)),i&&t((0,f.m$)())}),[t,i]),(0,v.jsxs)(j.Z,{title:"Contacts",children:[o&&(0,v.jsx)("p",{children:"Error!!!!!!"}),null!==e&&void 0!==e&&e.length?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k,{}),(0,v.jsx)(x,{})]}):(0,v.jsx)("p",{className:"not_found",children:"Phone book is empty"}),r&&(0,v.jsx)("p",{children:"Loading..."})]})}}}]);
//# sourceMappingURL=637.db5e6628.chunk.js.map