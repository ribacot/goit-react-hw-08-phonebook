"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[637],{637:function(t,n,e){e.r(n),e.d(n,{default:function(){return L}});var a=e(2791),c=e(9434),r=e(7689),s=e(3853),o=e(9983),i="ContactsList_listContacts__F81pO",l="ContactsList_contact__yS-qh",u="ContactsList_contact_tel__1VTI+",d="ContactsList_btn_del__Jod-J",h=e(1080),f=e(6351),_=function(){var t=(0,c.v9)(f.AD).filter,n=(0,c.v9)(f.Af),e=n.contacts,a=n.isLoading,r=n.error,s=null===e||void 0===e?void 0:e.filter((function(n){return n.name.toLowerCase().includes(t)}));return{contacts:e,isLoading:a,error:r,filteredContacts:s}},m=e(184),v=function(){var t=(0,c.I0)(),n=(0,c.v9)(f.Hz).token,e=_().filteredContacts,v=(0,r.s0)();return(0,a.useEffect)((function(){!n&&v("/")}),[n,v]),(0,m.jsx)(m.Fragment,{children:null!==e&&void 0!==e&&e.length?(0,m.jsx)("ul",{className:i,children:null===e||void 0===e?void 0:e.map((function(n){var e=n.name,a=n.id,c=n.number;return(0,m.jsxs)("li",{className:l,children:[e,":",(0,m.jsxs)("span",{className:u,children:[c,(0,m.jsx)("button",{className:d,type:"button",onClick:function(){return t((0,h.OF)(a))},children:(0,m.jsx)(o.Pd.Provider,{value:{size:"1.2em"},children:(0,m.jsx)(s.qu3,{})})})]})]},a)}))}):(0,m.jsx)("p",{className:"not_found",children:"Not found contacts"})})},x=e(1090),j="Search_decor_search__P41Qc",p="Search_lable__BBQ+F",C="Search_input__5wg+0",g=e(6388);function b(){var t=(0,c.v9)(f.AD).filter,n=(0,c.I0)();return(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("label",{className:p,htmlFor:"search",children:"Find contacts by name"}),(0,m.jsx)("input",{className:C,type:"text",id:"search",name:"name",onChange:function(t){var e=t.target.value;n((0,g.Q)(e))},value:t})]})}var k=e(8155),N=e(1138);function L(){var t=(0,c.I0)(),n=_(),e=n.contacts,s=n.isLoading,o=n.error,i=(0,c.v9)((function(t){return t.auth})).token,l=(0,r.s0)();(0,a.useEffect)((function(){!i&&l("/login")}),[i,l]),(0,a.useEffect)((function(){i&&(k.e.defaults.headers.common.Authorization="Bearer ".concat(i)),i&&t((0,h.m$)())}),[t,i]);return(0,m.jsxs)(x.Z,{title:"Contacts",children:[o&&(0,m.jsx)("p",{children:"Error!!!!!!"}),(0,m.jsx)("button",{className:N.Z.btn_add,style:{marginBottom:"15px"},onClick:function(){return l("/add_contact")},children:"Add Contact"}),null!==e&&void 0!==e&&e.length?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b,{}),(0,m.jsx)(v,{})]}):(0,m.jsx)("p",{className:"not_found",children:"Phone book is empty"}),s&&(0,m.jsx)("p",{children:"Loading..."})]})}}}]);
//# sourceMappingURL=637.5bec0299.chunk.js.map