"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[300],{1300:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(9439),c=n(2791),s=n(9434),r=n(7689),l=n(1138),o=n(1080),u=n(1090),i=n(8155),m=n(6351),d=n(184);function h(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],h=t[1],b=(0,c.useState)(""),f=(0,a.Z)(b,2),p=f[0],v=f[1],Z=(0,s.v9)(m.Af).contacts,x=(0,s.v9)(m.Hz).token,N=(0,s.I0)(),j=(0,r.s0)();(0,c.useEffect)((function(){!x&&j("/login")}),[x,j]),(0,c.useEffect)((function(){console.log("contacts",Z.length),!Z.length&&x&&(i.e.defaults.headers.common.Authorization="Bearer ".concat(x)),!Z.length&&N((0,o.m$)())}),[Z.length,N,x]);var k=function(e){var t=e.target,n=t.name,a=t.value;Z.some((function(e){return e.name.toLowerCase()===a.toLowerCase().trim()}))?alert(" ".concat(a," is already in contacts")):function(e){switch(e){case"name":h(a.trim());break;case"number":v(a.trim());break;default:;}}(n)};return(0,d.jsx)(u.Z,{title:"Add contact",children:(0,d.jsxs)("form",{className:l.Z.form_Add_Contact,onSubmit:function(e){e.preventDefault(),N((0,o.G3)({name:n,number:p})),j("/contacts"),h(""),v("")},children:[(0,d.jsxs)("div",{className:l.Z.decor_input,children:[(0,d.jsx)("label",{className:l.Z.lable,htmlFor:"name",children:"Name"}),(0,d.jsx)("input",{className:l.Z.input,id:"name",type:"text",name:"name",required:!0,onChange:k,value:n})]}),(0,d.jsxs)("div",{className:l.Z.decor_input,children:[(0,d.jsx)("label",{className:l.Z.lable,htmlFor:"number",children:"Number"}),(0,d.jsx)("input",{className:l.Z.input,id:"number",type:"tel",name:"number",required:!0,onChange:k,value:p})]}),(0,d.jsxs)("div",{className:l.Z.btnContainer,children:[(0,d.jsx)("button",{className:l.Z.btn_add,type:"submit",disabled:!n||!p,children:"Add contact"}),(0,d.jsx)("button",{className:l.Z.btn_add,type:"button",onClick:function(){return j("/contacts")},children:"Close"})]})]})})}}}]);
//# sourceMappingURL=300.2f042ccd.chunk.js.map